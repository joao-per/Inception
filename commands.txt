sudo apt update
sudo apt upgrade
sudo apt install docker
sudo apt install docker-compose
sudo apt install vim
sudo apt install docker
sudo apt install nginx


create tree path
- src
- - requirements
- - - nginx
- - - - Dockerfile
- - - wordpress
- - - - Dockerfile
- - - mariadb
- - - - Dockerfile
- - - docker-compose.yml


docker ps -- ver todos os containers

# Access the MariaDB container CLI
docker exec -it [mariadb-container-name] mysql -u root -p

# In the MariaDB CLI, check if the user exists and has the right permissions
SELECT user FROM mysql.user;
SHOW GRANTS FOR 'joaoper'@'%';

# If the user does not have the necessary permissions, grant them
GRANT ALL PRIVILEGES ON inception.* TO 'joaoper'@'%' IDENTIFIED BY 'macaco';
FLUSH PRIVILEGES;


To do this, you'll need to modify your hosts file to point the domain login.42.fr to your localhost (127.0.0.1) or the local IP of your Docker setup. Here's what you should add to your hosts file:


127.0.0.1 login.42.fr
Or if your Docker environment has a specific IP address, replace 127.0.0.1 with that IP.

On Unix-like systems, the hosts file is located at /etc/hosts,

https://localhost:443


# What is it? #

Use docker-compose to create a LEMP stack (L for Linux, E for Nginx, M for Mariadb and P for PHP) with wordpress.

# How to set up your environment in your vm? #

### Edit /etc/hosts to add your server name to the list of host accepted ###

127.0.0.1 login.42.fr

### Create a new user named after your login and assign it to the different groups ###

`sudo adduser login`

`sudo usermod -aG sudo login`

`sudo usermod -aG docker login`

`sudo usermod -aG vboxsf login (if you use shared folders on your vm)`

### Get the latest version of docker-compose to be able to use docker-compose with a makefile ###

* Delete previous version

`sudo apt-get remove docker-compose`

`sudo rm -f /usr/local/bin/docker-compose`

* Install newest version

`sudo curl -L "https://github.com/docker/compose/releases/download/1.29.2/docker-compose-Darwin-x86_64" -o /usr/local/bin/docker-compose
(version 29.2 at the time of this readme)`

`sudo chmod +x /usr/local/bin/docker-compose`

### Stop the nginx and mysql service which are set by default on 42 vm ###

`sudo service nginx stop`

`sudo service mysql stop`

### If you get the following error message : Docker compose up : error while fetching server API version ###

`sudo gpasswd -a $USER docker`

`newgrp docker`
